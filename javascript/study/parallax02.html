<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>패럴랙스 사이드메뉴</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dracula.css">
</head>

<body>
    <main id="main">
        <header id="header">
            <h1><a href="../index.html">Javascript</a></h1>
            <nav class="header_nav">
                <ul>
                    <li><a href="../javascript01.html">데이터 저장하기</a></li>
                    <li><a href="../javascript02.html">데이터 불러오기</a></li>
                    <li><a href="../javascript03.html">데이터 실행하기</a></li>
                    <li><a href="../javascript04.html">데이터 제어하기</a></li>
                </ul>
                <ul>
                    <li><a href="../javascript05.html">문자열 객체</a></li>
                    <li><a href="../javascript06.html">배열 객체</a></li>
                    <li><a href="../javascript07.html">수학 객체</a></li>
                    <li><a href="../javascript08.html">숫자 객체</a></li>
                    <li><a href="../javascript09.html">브라우저 객체</a></li>
                    <li><a href="../javascript10.html">요소 객체</a></li>
                    <li><a href="../javascript11.html">이벤트 객체</a></li>
                </ul>
                <ul class="effect">
                    <li><a href="searchEffect01.html">검색 효과</a></li>
                    <li><a href="quizEffect01.html">퀴즈 효과</a></li>
                    <li><a href="textEffect01.html">텍스트 효과</a></li>
                    <li><a href="mouseEffect01.html">마우스 효과</a></li>
                    <li><a href="sliderEffect01.html">슬라이드 효과</a></li>
                    <li><a href="parallaxEffect01.html">패렐랙스 효과</a></li>
                    <li><a href="gameEffect01,html">게임 효과</a></li>
                </ul>
            </nav>
        </header>
        <!-- header -->
        <div class="main_refer">
            <div class="document">
                <h2 class="t_tit">패럴랙스 사이드메뉴</h2>
                <p class="t_desc2">
                    페럴랙스 효과는 스크롤을 내리면서 알맞은 스크롤의 위치에서 효과가 생기는 것을 말합니다.
                </p>
                <!-- info -->
                <h3 class="t_tit2">info</h3>
                <p class="t_desc2">
                  사이드에 있는 스크롤 바에 버튼을 클릭했을 때 이동하도록 a의 인자값을 불러왔습니다. <br>
                  하지만 저희는 부드럽게 이동시키기 위해서 a의 역할을 해지시키도록 preventDefault 메서드를 사용하여 억제하였고 <br>
                  href 속성에 부드럽게 이동하는 behavior 속성을 사용하여 보내주었습니다. 
                </p> 
                        <summary>메뉴바 이동을 부드럽게 해주기</summary>
                            <div class="t_code">
<pre><code class="language-js">//스크롤이동
document.querySelectorAll("#parallax__dot a").forEach(el => {
    el.addEventListener("click", e => {
        e.preventDefault();
        console.log(e)
        document.querySelector(el.getAttribute("href")).scrollIntoView({behavior: "smooth"});
    })
});
</code></pre>
                            </div>
                <!-- info -->
                <!-- scrollTop -->
                <h3 class="t_tit2">위치에 따라 메뉴바 옮기기</h3>
                <p class="t_desc2">
                    여러 브라우저 환경에서 scrollTop의 값을 구하기 위해 이 || 연산자를 사용하였습니다. <br>
                    innerText를 사용하여 html에 출력을 하도록 하고  Math 메서드를 사용하여 소수점을 제거하였습니다. <br>
                    offset위치를 구했으니 반복문(forEach문)을 사용하여 계속 scrollTop의 값과 offsetTop을 사용하여 요소의 위치 값과 비교합니다. <br>
                    비교했을 때 위치를 확인하고 사이드 메뉴에 표시합니다.  <br>
                    사이드 메뉴는 배열이기 때문에 0부터 시작해서 i값에 1을 더해서 시작해 주도록 합니다.

                </p>
                        <summary>offset위치</summary>
                            <div class="t_code">
<pre><code class="language-js">window.addEventListener("scroll", () =>{
    let scrollTop = window.pageYOffset || window.scrollY || document.documentElement.scrollTop; //한번에 처리
    document.querySelector("#parallax__info span").innerText = Math.round(scrollTop);

    document.querySelectorAll(".content__item").forEach((e, i) => {
        if(scrollTop >= e.offsetTop - window.innerHeight/2){
            document.querySelectorAll(`#parallax__dot li`).forEach(li => {
                li.classList.remove(`active`);    
            })
            document.querySelector(`#parallax__dot li:nth-child(${i + 1})`).classList.add("active")
        }
    })
})
</code></pre>
                            </div>
                <!-- menu -->
                <h4 class="t_tit2">결과</h4>
                <div class="t_iframe" style="min-height: 1000px; padding-top: 0;">
                    <iframe src="https://codepen.io/thdtjdgml415/embed/yLjebPY?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
                        See the Pen <a href="https://codepen.io/thdtjdgml415/pen/yLjebPY">
                        Untitled</a> by thdtjdgml415 (<a href="https://codepen.io/thdtjdgml415">@thdtjdgml415</a>)
                        on <a href="https://codepen.io">CodePen</a>.
                      </iframe>
                </div>
                <p class="t_desc">사이트 결과</p>
                <h4 class="t_tit2">결과</h4>
                <div class="t_iframe" style="min-width: 600px; min-height: 900px; padding-top: 0;">
                    <iframe src="https://thdtjdgml415.github.io/coding2/javascript/study/effect/parallaxEffect02.html"
                        allowfullscreen></iframe>
                </div>
              

                <div class="t_link">
                    <a href="https://github.com/thdtjdgml415/coding2/blob/main/javascript/study/effect/parallaxEffect02.html"
                        target="_blank">원본 소스 보기</a>
                </div>
            </div>
        </div>
    </main>
    <!-- //main -->
    <footer id="footer">
        <a href="mailto:thdtjdgml415@naver.com">thdtjdgml415@naver.com</a>
    </footer>
    <!-- //footer -->
    <script src="../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>

</html>