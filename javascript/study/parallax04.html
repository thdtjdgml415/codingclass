<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>패럴랙스 효과</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dracula.css">
</head>

<body>
    <main id="main">
        <header id="header">
            <h1><a href="../index.html">Javascript</a></h1>
            <nav class="header_nav">
                <ul>
                    <li><a href="../javascript01.html">데이터 저장하기</a></li>
                    <li><a href="../javascript02.html">데이터 불러오기</a></li>
                    <li><a href="../javascript03.html">데이터 실행하기</a></li>
                    <li><a href="../javascript04.html">데이터 제어하기</a></li>
                </ul>
                <ul>
                    <li><a href="../javascript05.html">문자열 객체</a></li>
                    <li><a href="../javascript06.html">배열 객체</a></li>
                    <li><a href="../javascript07.html">수학 객체</a></li>
                    <li><a href="../javascript08.html">숫자 객체</a></li>
                    <li><a href="../javascript09.html">브라우저 객체</a></li>
                    <li><a href="../javascript10.html">요소 객체</a></li>
                    <li><a href="../javascript11.html">이벤트 객체</a></li>
                </ul>
                <ul class="effect">
                    <li><a href="searchEffect01.html">검색 효과</a></li>
                    <li><a href="quizEffect01.html">퀴즈 효과</a></li>
                    <li><a href="textEffect01.html">텍스트 효과</a></li>
                    <li><a href="mouseEffect01.html">마우스 효과</a></li>
                    <li><a href="sliderEffect01.html">슬라이드 효과</a></li>
                    <li><a href="parallaxEffect01.html">패렐랙스 효과</a></li>
                    <li><a href="gameEffect01,html">게임 효과</a></li>
                </ul>
            </nav>
        </header>
        <!-- header -->


        <div class="main_refer">
            <div class="document">
                <h2 class="t_tit">패럴랙스 - 나타나기</h2>
                <p class="t_desc2">
                    페럴랙스 효과는 스크롤을 내리면서 알맞은 스크롤의 위치에서 효과가 생기는 것을 말합니다.
                </p>
                <!-- scrollTop -->
                <h3 class="t_tit2">javascript</h3>
                <p class="t_desc2">
                    (scrollTop값은 현재 자신의 스크롤 위치)
                    scrollTop 속성을 이용해서 자신이 보고있는 window환경에서의 위치를 구합니다. <br>
                    content__item의 클래스가 들어있는 요소의 위치를 forEach문을 사용해서 탐색하고 조건문을 사용하여 <br>
                    제가 원하는 위치에서 동작하기 원하는 위치에서 show라는 class를 추가해주는 메서드를 사용합니다. <br>
                    내가 있는 위치를 계속 탐색해야하기 떄문에 재귀함수를 사용하여 실행하였습니다. 하지만 너무많이 탐색하면 <br>
                    메모리에 과부하가 올 수 있기 떄문에 requestAnimationFrame 메서드를 사용하여 1분에 60번만 하도록 제한하였습니다.

                </p>
                <div class="t_result">
                    <details>
                        <summary>javascript</summary>
                        <div class="result">
                            <div class="t_code">
<pre><code class="language-js"> // 재귀함수 : 자기자신을 계속해서 실행해준다.
function scroll () {
    let scrollTop = window.pageYOffset || document.documentElement.scrollTop || window.screenY;
    document.querySelectorAll(".content__item").forEach(item => {
        if(scrollTop > item.offsetTop - window.innerHeight/2) { //scrollTop값은 브라우저나 화면의 크기 등 위치의 오차가 있을 수 있기 떄문에 조절해주어야 합니다.
            item.classList.add("show")
        }
    });
    requestAnimationFrame(scroll) //1분에 60번씩만 실행해주는 메서드 메모리를 아낄 수 있다.
}
scroll();
</code></pre>
                            </div>
                    </details>
                </div>
                <!--javascript-->
                <h3 class="t_tit2">HTML</h3>
                <p class="t_desc2">
                    html입니다. 각 요소에 클래스를 만들어서 animation 줄 수 있도록 하였습니다. 
                </p>
                <div class="t_result">
                    <details>
                        <summary>HTML</summary>
                        <div class="result">
                            <div class="t_code">
<pre><code class="language-html">&lt;main id="parallax__cont"&gt;
&lt;div id="contents"&gt;
    &lt;section id="section1" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;01&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section1&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;결과도 중요하지만, 과정을 더 중요하게 생각한다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section01 --&gt;
    &lt;section id="section2" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;02&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section2&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt; 직업에서 행복을 찾아라. 아니면 행복이 무엇인지 절대 모를 것이다&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section02 --&gt;
    &lt;section id="section3" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;03&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section3&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;피할수 없으면 즐겨라 그리고 행동해라&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section03 --&gt;
    &lt;section id="section4" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;04&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section4&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;실패는 잊어라 그러나 그것이 준 교훈은 절대 잊으면 안된다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section04 --&gt;
    &lt;section id="section5" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;05&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section5&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;당신이 할수 있다고 믿든 할수 없다고 믿든 믿는 대로 될것이다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section05 --&gt;
    &lt;section id="section6" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;06&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section6&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;눈물과 더불어 빵을 먹어 보지 않은 자는 인생의 참다운 맛을 모른다. &lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section06 --&gt;
    &lt;section id="section7" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;07&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section7&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;좋은 성과를 얻으려면 한 걸음 한 걸음이 힘차고 충실하지 않으면 안 된다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section07 --&gt;
    &lt;section id="section8" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;08&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section8&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;산다는것 그것은 치열한 전투이다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section08 --&gt;
    &lt;section id="section9" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;09&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section9&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;
        &lt;p class="content__item__desc"&gt;세상은 과정보다 결과를 중요시한다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- section09 --&gt;
&lt;/div&gt;
&lt;/main&gt;
</code></pre>
                            </div>
                    </details>
                </div>
                <!-- HTML -->
                <!-- animation -->
                <h3 class="t_tit2">animation</h3>
                <p class="t_desc2">
                    각 요소에 투명도와 회전 움직임을 주어서 애니메이션 효과를 만들었습니다. <br>
                    javascript에서 scrollTop값을 구해서 해당위치를 구해서 class를 추가해 주었다면 CSS에서 class가 추가 되었을때 <br>
                    회전 투명도 애니메이션 효과를 지정하여 해당위치에 있지않으면 opacity를 0으로하고 위치에 도달하면 1로 바꾸어 보이도록 합니다. <br>
                    각 요소에 딜레이를 만들어 역동적인 효과를 만들어줍니다.
                </p>
                <div class="t_result">
                    <details>
                        <summary>animation</summary>
                        <div class="result">
                            <div class="t_code">
<pre><code class="language-css"> #contents > section .content__item__num{
    opacity: 0;
    transform: translateY(200px); /*밑에서 올라오도록 효과를 준다.*/
    transition: all 1s 0.1s cubic-bezier(0, 1.97, 0.58, 1);  /*두번째 초는 딜레이 입니다.*/
}
#contents > section .content__item__title{
    opacity: 0;
    transform: translateX(-100px);
    transition: all 1s 0.2s cubic-bezier(0, 1.97, 0.58, 1);
}
#contents > section .content__item__imgWrap{
    opacity: 0;
    transform: translateY(200px) rotate(30deg) skew(20deg);         /* skew 마름모로 만들어준다 */
    transition: all 1s 0.3s cubic-bezier(0, 1.97, 0.58, 1);
}
#contents > section .content__item__desc{
    opacity: 0;
    transform: translateX(-200px);
    transition: all 1s 0.4s cubic-bezier(0, 1.97, 0.58, 1); 
}
#contents > section.show .content__item__num{
    opacity: 0.07; /*위에서 준 투명도 따라감*/
    transform: translateY(0);
}
#contents > section.show .content__item__title{
    opacity: 1;
    transform: translateX(0);
}
#contents > section.show .content__item__imgWrap{
    opacity: 1;
    transform: translateY(0) rotate(0) skew(0);
}
#contents > section.show .content__item__desc{
    opacity: 1;
    transform: translateX(0);
}
#contents > section:nth-child(even) .content__item__title {
    transform: translateX(100px);
}
#contents > section:nth-child(even).show .content__item__title {
    transform: translateX(0);
}
#contents > section:nth-child(even) .content__item__desc {
    transform: translateX(200px);
}
#contents > section:nth-child(even).show .content__item__desc {
    transform: translateX(0);
}
</code></pre>
<!-- animation -->
                            </div>
                    </details>
                </div>
                <!-- menu -->
                <h4 class="t_tit2">결과</h4>
                <div class="t_iframe" style="min-width: 600px; min-height: 900px; padding-top: 0;">
                    <iframe src="https://thdtjdgml415.github.io/coding2/javascript/study/effect/parallaxEffect04.html"
                        allowfullscreen></iframe>
                </div>
              

                <div class="t_link">
                    <a href="https://github.com/thdtjdgml415/coding2/blob/main/javascript/study/effect/parallaxEffect04.html"
                        target="_blank">원본 소스 보기</a>
                </div>
            </div>
        </div>
    </main>
    <!-- //main -->
    <footer id="footer">
        <a href="mailto:thdtjdgml415@naver.com">thdtjdgml415@naver.com</a>
    </footer>
    <!-- //footer -->
    <script src="../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>

</html>